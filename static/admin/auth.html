<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>GitHub Auth</title>
</head>
<body>
  <script>
    const params = new URLSearchParams(window.location.search);
    const code = params.get('code');
    
    if (code) {
      window.opener.postMessage({
        type: 'authorization-github',
        payload: { code }
      }, window.location.origin);
      window.close();
    } else {
      const clientId = 'Ov23li447QW44Hs6i6Dl';
      const redirectUri = window.location.origin + '/admin/auth.html';
      const scope = 'repo,user';
      
      window.location.href = `https://github.com/login/oauth/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scope}`;
    }
  </script>
</body>
</html>
